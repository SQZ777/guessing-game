# å¯¶å¯¶æ€§åˆ¥æ­éœ²éŠæˆ² - æŠ€è¡“è¦æ ¼æ›¸

## å°ˆæ¡ˆæ¦‚è¿°

é€™æ˜¯ä¸€å€‹äº’å‹•å¼çš„å¯¶å¯¶æ€§åˆ¥æ­éœ² Web æ‡‰ç”¨ç¨‹å¼ï¼Œè®“è¦ªæœ‹å¥½å‹é€éæœ‰è¶£çš„å¤¾å¨ƒå¨ƒéŠæˆ²ä¾†çŒœæ¸¬ä¸¦æ­æ›‰å¯¶å¯¶çš„æ€§åˆ¥ã€‚

---

## æŠ€è¡“æ¶æ§‹

### å‰ç«¯
- **æ¡†æ¶**: Vue.js 3 (Composition API)
- **è·¯ç”±**: Vue Router
- **ç‹€æ…‹ç®¡ç†**: Pinia
- **æ¨£å¼**: CSS3 / SCSS
- **å‹•ç•«**: CSS Animations / GSAP (å¤¾å¨ƒå¨ƒå‹•ç•«)
- **HTTP å®¢æˆ¶ç«¯**: Axios

### å¾Œç«¯
- **é‹è¡Œç’°å¢ƒ**: Node.js
- **æ¡†æ¶**: Express.js
- **è³‡æ–™åº«**: MongoDB
- **ODM**: Mongoose
- **Session ç®¡ç†**: express-session + connect-mongo

---

## é é¢çµæ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      App                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Page 1: çŒœæ¸¬é é¢ (/)                                    â”‚
â”‚  Page 2: å¤¾å¨ƒå¨ƒæ­éœ²é é¢ (/reveal)                        â”‚
â”‚  Page 3: çµ±è¨ˆçµæœé é¢ (/statistics)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é é¢è©³ç´°è¦æ ¼

### Page 1: çŒœæ¸¬é é¢ (`/`)

#### åŠŸèƒ½æè¿°
ä½¿ç”¨è€…é€²å…¥ç¶²ç«™çš„ç¬¬ä¸€å€‹é é¢ï¼Œéœ€è¼¸å…¥å§“åä¸¦é¸æ“‡çŒœæ¸¬çš„æ€§åˆ¥ã€‚

#### UI å…ƒç´ 
| å…ƒç´  | é¡å‹ | èªªæ˜ |
|------|------|------|
| æ¨™é¡Œ | Text | é¡¯ç¤ºæ­¡è¿è¨Šæ¯ï¼Œä¾‹å¦‚ã€ŒçŒœçŒœå¯¶å¯¶æ˜¯ç”·ç”Ÿé‚„æ˜¯å¥³ç”Ÿï¼Ÿã€ |
| å§“åè¼¸å…¥æ¡† | Input | å¿…å¡«ï¼Œç”¨æ–¼è¨˜éŒ„çŒœæ¸¬è€…å§“å |
| æ€§åˆ¥é¸æ“‡ | Radio/Button | å…©å€‹é¸é …ï¼šğŸ‘¦ ç”·ç”Ÿ / ğŸ‘§ å¥³ç”Ÿ |
| ç¢ºèªæŒ‰éˆ• | Button | æäº¤çŒœæ¸¬ |

#### å•†æ¥­é‚è¼¯
1. æª¢æŸ¥ Cookie/Session æ˜¯å¦å·²æœ‰çŒœæ¸¬è¨˜éŒ„
   - è‹¥å·²çŒœæ¸¬é â†’ ç›´æ¥è·³è½‰è‡³çµ±è¨ˆé é¢ (`/statistics`)
   - è‹¥æœªçŒœæ¸¬é â†’ é¡¯ç¤ºçŒœæ¸¬è¡¨å–®
2. è¡¨å–®é©—è­‰
   - å§“åç‚ºå¿…å¡«ï¼ˆè‡³å°‘ 1 å€‹å­—å…ƒï¼‰
   - å¿…é ˆé¸æ“‡æ€§åˆ¥
3. æäº¤çŒœæ¸¬
   - ç™¼é€ API è«‹æ±‚è‡³å¾Œç«¯è¨˜éŒ„
   - è¨­å®š Cookie/Session æ¨™è¨˜å·²çŒœæ¸¬
   - è·³è½‰è‡³æ­éœ²é é¢ (`/reveal`)

#### API å‘¼å«
```
POST /api/guess
Request Body: { name: string, guess: 'boy' | 'girl' }
Response: { success: boolean, guessId: string }
```

---

### Page 2: å¤¾å¨ƒå¨ƒæ­éœ²é é¢ (`/reveal`)

#### åŠŸèƒ½æè¿°
æ¨¡æ“¬å¤¾å¨ƒå¨ƒæ©Ÿå°çš„äº’å‹•éŠæˆ²ï¼Œä½¿ç”¨è€…æ“æ§çˆªå­é€²è¡Œå¤¾å–å‹•ä½œï¼Œå‹•ç•«çµæŸå¾Œæ­éœ²å¯¶å¯¶æ€§åˆ¥ã€‚

#### UI å…ƒç´ 
| å…ƒç´  | é¡å‹ | èªªæ˜ |
|------|------|------|
| å¤¾å¨ƒå¨ƒæ©Ÿå° | Canvas/SVG | ä¸»è¦éŠæˆ²å€åŸŸï¼ŒåŒ…å«æ©Ÿå°å¤–æ¡†ã€ç»ç’ƒæ•ˆæœã€å…§éƒ¨å ´æ™¯ |
| çˆªå­ | Animated Element | å¯ç§»å‹•çš„å¤¾å­ï¼Œæœ‰å¼µé–‹/é–‰åˆå‹•ç•« |
| å¨ƒå¨ƒ/ç¦®ç‰©ç›’ | Image/SVG | æ•£è½åœ¨æ©Ÿå°åº•éƒ¨çš„å¨ƒå¨ƒæˆ–ç¦®ç‰©ç›’ |
| æ–¹å‘æ§åˆ¶æŒ‰éˆ• | Buttons | â—€ å·¦ç§» / â–¶ å³ç§» (å¯æ“´å……ä¸Šä¸‹ç§»å‹•) |
| å¤¾å–æŒ‰éˆ• | Button | å¤§å‹é†’ç›®æŒ‰éˆ•ï¼Œè§¸ç™¼å¤¾å–å‹•ä½œ |
| æ€§åˆ¥æ­éœ² Popup | Modal | å‹•ç•«çµæŸå¾Œé¡¯ç¤ºï¼ŒåŒ…å«æ€§åˆ¥çµæœèˆ‡ç¢ºèªæŒ‰éˆ• |

#### æ©Ÿå°è¨­è¨ˆè¦æ ¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â˜… æ€§åˆ¥æ­éœ²å¤¾å¨ƒå¨ƒæ©Ÿ â˜…              â”‚  â† æ©Ÿå°é ‚éƒ¨æ¨™é¡Œ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚           â•”â•â•â•â•—                     â”‚  â† çˆªå­ (å¯å·¦å³ç§»å‹•)
â”‚           â•‘ çˆª â•‘                    â”‚
â”‚           â•šâ•â•â•â•                     â”‚
â”‚              â”‚                      â”‚
â”‚              â–¼                      â”‚
â”‚                                     â”‚
â”‚    ğŸ  ğŸ§¸  ğŸ€  ğŸ  ğŸ§¸  ğŸ€           â”‚  â† å¨ƒå¨ƒ/ç¦®ç‰©å€
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   [ â—€ ]         [ â–¶ ]              â”‚  â† æ§åˆ¶æŒ‰éˆ•
â”‚          [ ğŸ¯ å¤¾! ]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å‹•ç•«æµç¨‹
```
1. åˆå§‹ç‹€æ…‹
   â””â”€â”€ çˆªå­åœ¨é ‚éƒ¨ä¸­å¤®ï¼Œè™•æ–¼å¼µé–‹ç‹€æ…‹

2. ä½¿ç”¨è€…æ“ä½œéšæ®µ
   â””â”€â”€ æŒ‰å·¦/å³éµç§»å‹•çˆªå­æ°´å¹³ä½ç½®
   â””â”€â”€ çˆªå­ç§»å‹•å¸¶æœ‰å¹³æ»‘éæ¸¡å‹•ç•«

3. å¤¾å–å‹•ç•« (æŒ‰ä¸‹ã€Œå¤¾ã€æŒ‰éˆ•å¾Œ)
   â”œâ”€â”€ Phase 1: çˆªå­ä¸‹é™ (1.5s)
   â”‚   â””â”€â”€ ç·©å‹•æ•ˆæœï¼šease-in
   â”œâ”€â”€ Phase 2: çˆªå­é–‰åˆ (0.5s)
   â”‚   â””â”€â”€ æŠ“å–æ•ˆæœå‹•ç•«
   â”œâ”€â”€ Phase 3: çˆªå­ä¸Šå‡ (1.5s)
   â”‚   â””â”€â”€ å¸¶è‘—ã€Œç¦®ç‰©ã€ä¸Šå‡
   â”œâ”€â”€ Phase 4: ç¦®ç‰©æ‰“é–‹å‹•ç•« (1s)
   â”‚   â””â”€â”€ ç¦®ç‰©ç›’å±•é–‹æ•ˆæœ
   â””â”€â”€ Phase 5: é¡¯ç¤ºæ€§åˆ¥æ­éœ² Popup

4. æ­éœ² Popup
   â””â”€â”€ ä¾æ“šå¯¦éš›æ€§åˆ¥é¡¯ç¤ºï¼š
       - ç”·ç”Ÿï¼šè—è‰²ä¸»é¡Œ + ğŸ‘¶ğŸ‰ "æ˜¯ç”·å¯¶å¯¶ï¼"
       - å¥³ç”Ÿï¼šç²‰è‰²ä¸»é¡Œ + ğŸ‘¶ğŸ€ "æ˜¯å¥³å¯¶å¯¶ï¼"
   â””â”€â”€ åŒ…å«ç¢ºèªæŒ‰éˆ•
```

#### å•†æ¥­é‚è¼¯
1. é é¢è¼‰å…¥æ™‚æª¢æŸ¥æ˜¯å¦æœ‰æœ‰æ•ˆçš„çŒœæ¸¬è¨˜éŒ„
   - ç„¡è¨˜éŒ„ â†’ è·³è½‰å›é¦–é 
2. ç¦æ­¢æ§åˆ¶æŒ‰éˆ•åœ¨å‹•ç•«æ’­æ”¾æœŸé–“æ“ä½œ
3. æ€§åˆ¥è³‡æ–™å¾å¾Œç«¯ API å–å¾—
4. Popup ç¢ºèªæŒ‰éˆ•é»æ“Šå¾Œè·³è½‰è‡³çµ±è¨ˆé é¢

#### API å‘¼å«
```
GET /api/reveal
Response: { gender: 'boy' | 'girl' }

PUT /api/guess/:guessId/revealed
Request Body: { revealed: true }
Response: { success: boolean }
```

---

### Page 3: çµ±è¨ˆçµæœé é¢ (`/statistics`)

#### åŠŸèƒ½æè¿°
é¡¯ç¤ºæ‰€æœ‰çŒœæ¸¬çš„çµ±è¨ˆæ•¸æ“šï¼ŒåŒ…å«æ¯”ä¾‹ã€æ­£ç¢ºç‡åŠè©³ç´°åå–®ã€‚

#### UI å…ƒç´ 
| å…ƒç´  | é¡å‹ | èªªæ˜ |
|------|------|------|
| å¯¦éš›æ€§åˆ¥é¡¯ç¤º | Badge | é ‚éƒ¨é¡¯ç¤ºã€Œå¯¶å¯¶æ˜¯ ğŸ‘¦ç”·ç”Ÿ/ğŸ‘§å¥³ç”Ÿã€ |
| çŒœæ¸¬æ¯”ä¾‹åœ–è¡¨ | Pie Chart / Bar | ç”·ç”Ÿ vs å¥³ç”Ÿçš„çŒœæ¸¬æ¯”ä¾‹ |
| æ­£ç¢ºç‡é¡¯ç¤º | Progress / Percentage | çŒœå°çš„æ¯”ä¾‹ç™¾åˆ†æ¯” |
| çŒœå°åå–® | List (å·¦å´) | ç¶ è‰²/å‹¾å‹¾æ¨™è¨˜ï¼Œåˆ—å‡ºçŒœå°çš„äººå |
| çŒœéŒ¯åå–® | List (å³å´) | ç´…è‰²/å‰å‰æ¨™è¨˜ï¼Œåˆ—å‡ºçŒœéŒ¯çš„äººå |
| ç¸½äººæ•¸ | Counter | é¡¯ç¤ºç¸½å…±æœ‰å¤šå°‘äººåƒèˆ‡çŒœæ¸¬ |

#### é é¢ä½ˆå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ğŸ‰ å¯¶å¯¶æ˜¯ [ç”·ç”Ÿ/å¥³ç”Ÿ]ï¼ ğŸ‰              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚   çŒœæ¸¬åˆ†å¸ƒ   â”‚          â”‚      æ­£ç¢ºç‡: 65%        â”‚ â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚          â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚ â”‚
â”‚   â”‚  â”‚ ğŸ”µ 60%â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚   â”‚  â”‚ ğŸ”´ 40%â”‚  â”‚                                       â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          ç¸½åƒèˆ‡äººæ•¸: 25 äºº            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   âœ… çŒœå°äº†ï¼(15äºº)          âŒ çŒœéŒ¯äº†ï¼(10äºº)          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚ â€¢ ç‹å°æ˜    â”‚          â”‚ â€¢ æå¤§è¯    â”‚             â”‚
â”‚   â”‚ â€¢ é™³ç¾éº—    â”‚          â”‚ â€¢ å¼µä¸‰ä¸°    â”‚             â”‚
â”‚   â”‚ â€¢ æ—å¿—ç²    â”‚          â”‚ â€¢ å‘¨æ°å€«    â”‚             â”‚
â”‚   â”‚ â€¢ ...       â”‚          â”‚ â€¢ ...       â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å•†æ¥­é‚è¼¯
1. é é¢è¼‰å…¥æ™‚å¾ API å–å¾—çµ±è¨ˆæ•¸æ“š
2. è¨­å®šè‡ªå‹•åˆ·æ–°æ©Ÿåˆ¶ï¼ˆæ¯ 5-10 ç§’è¼ªè©¢æˆ–ä½¿ç”¨ WebSocketï¼‰
3. æ•¸æ“šå³æ™‚æ›´æ–°ï¼Œä¸éœ€æ‰‹å‹•é‡æ–°æ•´ç†

#### API å‘¼å«
```
GET /api/statistics
Response: {
  actualGender: 'boy' | 'girl',
  totalGuesses: number,
  boyGuesses: number,
  girlGuesses: number,
  correctGuesses: number,
  correctList: [{ name: string, guess: string }],
  incorrectList: [{ name: string, guess: string }]
}
```

---

## è³‡æ–™åº«è¨­è¨ˆ

### Collection: `guesses`

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| _id | ObjectId | è‡ªå‹•ç”Ÿæˆçš„å”¯ä¸€è­˜åˆ¥ç¢¼ |
| name | String | çŒœæ¸¬è€…å§“å |
| guess | String | çŒœæ¸¬çš„æ€§åˆ¥ ('boy' / 'girl') |
| sessionId | String | Session IDï¼Œç”¨æ–¼è­˜åˆ¥ä½¿ç”¨è€… |
| revealed | Boolean | æ˜¯å¦å·²è§€çœ‹æ­éœ²å‹•ç•« |
| isCorrect | Boolean | æ˜¯å¦çŒœå°ï¼ˆæ­éœ²å¾Œè¨ˆç®—ï¼‰ |
| createdAt | Date | å»ºç«‹æ™‚é–“ |
| updatedAt | Date | æ›´æ–°æ™‚é–“ |

### Collection: `settings`

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| _id | ObjectId | è‡ªå‹•ç”Ÿæˆçš„å”¯ä¸€è­˜åˆ¥ç¢¼ |
| key | String | è¨­å®šéµå€¼ |
| value | Mixed | è¨­å®šå€¼ |

#### é è¨­è¨­å®š
```javascript
{
  key: 'actualGender',
  value: 'boy' // æˆ– 'girl'ï¼Œç”±ç®¡ç†å“¡è¨­å®š
}
```

---

## API è¨­è¨ˆ

### Base URL
```
Development: http://localhost:3000/api
Production: https://your-domain.com/api
```

### Endpoints

#### 1. æäº¤çŒœæ¸¬
```
POST /api/guess

Request Headers:
  Content-Type: application/json

Request Body:
{
  "name": "ç‹å°æ˜",
  "guess": "boy"
}

Response (201 Created):
{
  "success": true,
  "data": {
    "guessId": "64a1b2c3d4e5f6789",
    "name": "ç‹å°æ˜",
    "guess": "boy"
  }
}

Response (400 Bad Request):
{
  "success": false,
  "error": "å·²ç¶“çŒœæ¸¬éäº†"
}
```

#### 2. æª¢æŸ¥æ˜¯å¦å·²çŒœæ¸¬
```
GET /api/guess/check

Response (200 OK):
{
  "hasGuessed": true,
  "guessId": "64a1b2c3d4e5f6789",
  "revealed": false
}

Response (200 OK - æœªçŒœæ¸¬):
{
  "hasGuessed": false
}
```

#### 3. å–å¾—æ­éœ²çµæœ
```
GET /api/reveal

Response (200 OK):
{
  "success": true,
  "data": {
    "gender": "boy",
    "userGuess": "girl",
    "isCorrect": false
  }
}
```

#### 4. æ¨™è¨˜å·²æ­éœ²
```
PUT /api/guess/:guessId/revealed

Response (200 OK):
{
  "success": true
}
```

#### 5. å–å¾—çµ±è¨ˆæ•¸æ“š
```
GET /api/statistics

Response (200 OK):
{
  "success": true,
  "data": {
    "actualGender": "boy",
    "totalGuesses": 25,
    "statistics": {
      "boyGuesses": 15,
      "girlGuesses": 10,
      "boyPercentage": 60,
      "girlPercentage": 40,
      "correctCount": 15,
      "incorrectCount": 10,
      "correctPercentage": 60
    },
    "lists": {
      "correct": [
        { "name": "ç‹å°æ˜", "guess": "boy" },
        { "name": "é™³ç¾éº—", "guess": "boy" }
      ],
      "incorrect": [
        { "name": "æå¤§è¯", "guess": "girl" },
        { "name": "å¼µä¸‰ä¸°", "guess": "girl" }
      ]
    }
  }
}
```

#### 6. ç®¡ç†å“¡è¨­å®šæ€§åˆ¥ï¼ˆå¯é¸ï¼‰
```
POST /api/admin/set-gender

Request Headers:
  Authorization: Bearer <admin-token>

Request Body:
{
  "gender": "boy"
}

Response (200 OK):
{
  "success": true,
  "message": "æ€§åˆ¥å·²è¨­å®šç‚ºç”·ç”Ÿ"
}
```

---

## Session / Cookie è¨­è¨ˆ

### Cookie è¨­å®š
```javascript
{
  name: 'gender_guess_session',
  maxAge: 7 * 24 * 60 * 60 * 1000, // 7 å¤©
  httpOnly: true,
  secure: true, // Production ç’°å¢ƒ
  sameSite: 'strict'
}
```

### Session è³‡æ–™çµæ§‹
```javascript
{
  guessId: '64a1b2c3d4e5f6789',
  hasGuessed: true,
  revealed: false
}
```

---

## å°ˆæ¡ˆç›®éŒ„çµæ§‹

```
guessing-game/
â”œâ”€â”€ client/                     # Vue.js å‰ç«¯
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ claw.svg
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ machine.svg
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ gift-box.svg
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ dolls/
â”‚   â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚   â”‚       â”œâ”€â”€ main.scss
â”‚   â”‚   â”‚       â””â”€â”€ animations.scss
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ClawMachine.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ GenderRevealPopup.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ StatisticsChart.vue
â”‚   â”‚   â”‚   â””â”€â”€ NameList.vue
â”‚   â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”‚   â”œâ”€â”€ GuessPage.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ RevealPage.vue
â”‚   â”‚   â”‚   â””â”€â”€ StatisticsPage.vue
â”‚   â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”‚   â””â”€â”€ guessStore.js
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â””â”€â”€ api.js
â”‚   â”‚   â”œâ”€â”€ App.vue
â”‚   â”‚   â””â”€â”€ main.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
â”œâ”€â”€ server/                     # Node.js å¾Œç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ database.js
â”‚   â”‚   â”‚   â””â”€â”€ session.js
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ guessController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ revealController.js
â”‚   â”‚   â”‚   â””â”€â”€ statisticsController.js
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ Guess.js
â”‚   â”‚   â”‚   â””â”€â”€ Setting.js
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â””â”€â”€ sessionCheck.js
â”‚   â”‚   â””â”€â”€ app.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ .env
â”‚
â”œâ”€â”€ docker-compose.yml          # Docker è¨­å®šï¼ˆå¯é¸ï¼‰
â”œâ”€â”€ README.md
â””â”€â”€ SPEC.md                     # æœ¬æ–‡ä»¶
```

---

## é–‹ç™¼éšæ®µè¦åŠƒ

### Phase 1: åŸºç¤å»ºè¨­ (1-2 å¤©)
- [ ] å»ºç«‹ Vue.js å°ˆæ¡ˆéª¨æ¶
- [ ] å»ºç«‹ Node.js/Express å°ˆæ¡ˆéª¨æ¶
- [ ] è¨­å®š MongoDB é€£ç·š
- [ ] è¨­å®š Session/Cookie
- [ ] å»ºç«‹åŸºæœ¬è·¯ç”±

### Phase 2: çŒœæ¸¬åŠŸèƒ½ (1 å¤©)
- [ ] å¯¦ä½œ Page 1 çŒœæ¸¬é é¢ UI
- [ ] å¯¦ä½œçŒœæ¸¬ API
- [ ] å¯¦ä½œ Session æª¢æŸ¥é‚è¼¯

### Phase 3: å¤¾å¨ƒå¨ƒéŠæˆ² (2-3 å¤©)
- [ ] è¨­è¨ˆå¤¾å¨ƒå¨ƒæ©Ÿå° UI
- [ ] å¯¦ä½œçˆªå­ç§»å‹•å‹•ç•«
- [ ] å¯¦ä½œå¤¾å–å‹•ç•«åºåˆ—
- [ ] å¯¦ä½œæ€§åˆ¥æ­éœ² Popup
- [ ] æ•´åˆæ­éœ² API

### Phase 4: çµ±è¨ˆé é¢ (1 å¤©)
- [ ] å¯¦ä½œçµ±è¨ˆé é¢ UI
- [ ] å¯¦ä½œçµ±è¨ˆ API
- [ ] å¯¦ä½œè‡ªå‹•åˆ·æ–°æ©Ÿåˆ¶

### Phase 5: æ¸¬è©¦èˆ‡å„ªåŒ– (1-2 å¤©)
- [ ] è·¨ç€è¦½å™¨æ¸¬è©¦
- [ ] è¡Œå‹•è£ç½®éŸ¿æ‡‰å¼æ¸¬è©¦
- [ ] æ•ˆèƒ½å„ªåŒ–
- [ ] Bug ä¿®å¾©

---

## éåŠŸèƒ½æ€§éœ€æ±‚

### æ•ˆèƒ½
- é é¢é¦–æ¬¡è¼‰å…¥æ™‚é–“ < 3 ç§’
- API å›æ‡‰æ™‚é–“ < 500ms
- å‹•ç•«æµæš¢åº¦ 60fps

### ç›¸å®¹æ€§
- æ”¯æ´ Chrome, Firefox, Safari, Edge æœ€æ–°å…©å€‹ç‰ˆæœ¬
- æ”¯æ´ iOS Safari, Android Chrome
- éŸ¿æ‡‰å¼è¨­è¨ˆï¼Œæ”¯æ´æ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œæ©Ÿ

### å®‰å…¨æ€§
- Session ä½¿ç”¨ HttpOnly Cookie
- API è¼¸å…¥é©—è­‰
- é˜²æ­¢é‡è¤‡æäº¤

---

## é™„éŒ„

### è‰²å½©è¦ç¯„
```css
/* ç”·ç”Ÿä¸»é¡Œ */
--boy-primary: #4A90D9;
--boy-secondary: #87CEEB;
--boy-accent: #1E90FF;

/* å¥³ç”Ÿä¸»é¡Œ */
--girl-primary: #FF69B4;
--girl-secondary: #FFB6C1;
--girl-accent: #FF1493;

/* é€šç”¨ */
--success: #4CAF50;
--error: #F44336;
--background: #FFF9E6;
--text: #333333;
```

### å­—å‹
```css
font-family: 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
```

---

## ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | æ—¥æœŸ | èªªæ˜ |
|------|------|------|
| 1.0 | 2026-01-03 | åˆå§‹ç‰ˆæœ¬ |
